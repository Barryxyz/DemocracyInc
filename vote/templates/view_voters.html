{% load staticfiles %}
<head>
<!doctype html>
<html lang="en">
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type='text/javascript' src="{% static "js/inspect.js" %}"></script>
<link rel="stylesheet" href={% static "css/voters.css" %}>
<link rel="stylesheet" href={% static "css/main.css" %}>
<link rel="stylesheet" href={% static "css/footer.css" %}>
<link rel="stylesheet" href={% static "css/ionicons.min.css" %}>
<title>Registered Voters</title>
</head>

<script>
function myFunction() {
  // Declare variables 
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    } 
  }
}
</script>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="{% url 'home' %}">DemocracyInc</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'vote_count' %}">Vote Count</a>
          </li>
            <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Election Results
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="{% url 'general_results' %}">General Election</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="{% url 'primary_results' %}">Primary Election</a>
            <li class="nav-item">
            <a class="nav-link" href="{% url 'checkin' %}">Check In</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Voting Portal
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="{% url 'vote_id_check' %}">Go to Voting Booth</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="{% url 'view_elections' %}">View Available Elections</a>
              <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="{% url 'view_voters' %}">View Registered Voters</a>
            </div>
          </li>
		</ul>
		{% if user.is_authenticated %}
			<li class="nav navbar-nav navbar-right">
              <h6 style="color:white">Logged in as: {{ user.username }}</h6>
            </li>
			&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp <!-- alignment members -->
		    <li class="nav navbar-nav navbar-right">
              <a class="nav-link" href="{% url 'logout' %}">Logout</a>
            </li>
		{% else %}
		<li class="nav navbar-nav navbar-right">
		    <a class="nav-link" href="{% url 'login' %}">Login</a>
		</li>
		{% endif %}
      </div>
    </nav>
	<br>
<h1 style="color:black;" align="center">Registered Voters</h1>
	<br>

<div id="padder" align="center">
<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for by first name...">

<table id="myTable">
  <tr class="header">
    <th style="width:10%;">First Name</th>
    <th style="width:10%;">Last Name</th>
	<th style="width:10%;">Voter #</th>
	<th style="width:10%;">Status</th>
    <th style="width:15%;">Street Address</th>
	<th style="width:10%;">City</th>
    <th style="width:5%;">State</th>
    <th style="width:5%;">Zip</th>
    <th style="width:20%;">Locality</th>
	<th style="width:5%;">Precinct</th>

  </tr>
  {% for item in query_results %}
  <tr>
    <td>{{ item.first_name }}</td>
    <td>{{ item.last_name }}</td>
	<td>{{ item.voter_number }}</td>
	<td>{{ item.voter_status }}</td>
	<td>{{ item.street_address }}</td>
	<td>{{ item.city }}</td>
	<td>{{ item.state }}</td>
	<td>{{ item.zip }}</td>
	<td>{{ item.locality }}</td>
	<td>{{ item.precinct_id }}</td>

  </tr>
  {% endfor %}
</table>
</div>
</body>
<br>
<br>

<div class="footer-dark">
       <footer>
           <div class="container">
               <div class="row">
                   <div class="col-sm-6 col-md-3 item">
                       <h3>Services</h3>
                       <ul>
                           <li><a href="#">Voting</a></li>
                           <li><a href="#">Analytics</a></li>
                           <li><a href="#">Hosting</a></li>
                       </ul>
                   </div>
                   <div class="col-sm-6 col-md-3 item">
                       <h3>About</h3>
                       <ul>
                           <li><a href="#">Company</a></li>
                           <li><a href="#">Team</a></li>
                           <li><a href="#">Careers</a></li>
                       </ul>
                   </div>
                   <div class="col-md-6 item text">
                       <h3>DemocracyInc</h3>
                       <p>Our system provides users with an easy to use voting application. </p>
					   <br>
					   <img align="center" src="{% static "img/Logo_tiny.png" %}" alt="logo"/>
                   </div>
               <p class="copyright">DemocracyInc &copy; 2017</p>
           </div>
       </footer>
   </div>
</div>
</body>
    <!--<script src="{% static "js/jquery.min.js" %}"></script>
    <script src="{% static "js/bootstrap.min.js" %}"></script>-->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
